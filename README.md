# 智能小车控制系统（G3507 + K230）

## 1. G3507 端（运动控制）
- **开发环境**：逐飞科技 G3507 官方库  
- **核心文件**：`angle.c`  
  - 陀螺仪数据处理（零漂抑制、角速度积分 + 互补滤波）  
  - 舵机驱动：2 × 360° 舵机，位置式 PD 控制  
- **已知问题**：负重后 PD 参数震荡，效果下降  
- **滤波方案**：因四元数计算耗时过高，改用角速度积分 + 简单互补滤波获取角度  

## 2. K230 端（视觉处理）
- **开发环境**：K230 AI 芯片  
- **功能模块**  
  1. 方框检测：距离、角度判定  
  2. 尺寸限制：过滤过大/过小方框  
  3. 白像素占比：要求方框内白色像素占多数  
- **效果评估**  
  - 色块检测受光照影响大，实际效果不佳  
  - 后续已切换为图像分类方案（模型文件未在仓库中）  
- **性能对比**  
  - OpenArt Mini：实测仅 5 FPS，帧率过低  
  - K230：帧率满足需求  
- **舵机配置**  
  - 180° 舵机：俯仰控制  
  - 360° 舵机：偏航控制  
  - 控制算法：分段增量式 PI
